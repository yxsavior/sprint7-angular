<app-menu></app-menu>
<h1 class="text-center text-primary">Dashboard FORD</h1>

<div class="d-flex align-items-center justify-content-evenly">
  <div class="card w-25 mx-1">
    <div class="card-header">Veiculo</div>
    <div class="card-body">
      <form [formGroup]="selectCarForms">
        <select class="form-select my-2" name="" id="" formControlName="carId">
          @for (vehicle of vehicles; track vehicle) {
          <option [value]="vehicle.id">{{ vehicle.vehicle }}</option>
          }
        </select>
      </form>
    </div>
  </div>
  <div class="card w-25 mx-1">
    <div class="card-header">Total de Vendas</div>
    <div class="card-body">
      @if (selectedVehicle) {
      <h5 class="card-title">{{ selectedVehicle.volumetotal }}</h5>
      } @else {
      <h5 class="card-title">000</h5>
      }
      <p class="card-text text-primary">Unid.</p>
    </div>
  </div>
  <div class="card w-25 mx-1">
    <div class="card-header">Veiculos Conectados</div>
    <div class="card-body">
      @if (selectedVehicle) {
      <h5 class="card-title">{{ selectedVehicle.connected }}</h5>
      } @else {
      <h5 class="card-title">000</h5>
      }
      <p class="card-text text-primary">Unid.</p>
    </div>
  </div>
  
  <div class="card w-25 mx-1">
    <div class="card-header">Software Atualizado</div>
    <div class="card-body">
      @if (selectedVehicle) {
      <h5 class="card-title">{{ selectedVehicle.softwareUpdates }}</h5>
      } @else {
      <h5 class="card-title">000</h5>
      }
      <p class="card-text text-primary">Unid.</p>
    </div>
  </div>
</div>

<div class="container my-4 text-center">
  <img *ngIf="selectedVehicle"
       [src]="selectedVehicle.img"
       class="img-fluid w-50"
       style="max-height: 300px;"
       alt="Modelo do carro FORD">
</div>


<div class="container-fluid position-absolute bottom-0">
  <table class="table table-bordered border-1 table-primary">
    <thead>
      <tr>
        <th>Codigo - Vin</th>
        <th>Od√¥metro</th>
        <th>Nivel de Combustivel</th>
        <th>Status</th>
        <th>Lat</th>
        <th>Long</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>
          <form [formGroup]="vinForm">
            <input
              class="form-control border border-primary"
              type="text"
              [formControl]="vinForm.controls.vin"
            />
          </form>
        </th>

        <th>
          @if (carVin) {
          {{ carVin.odometro }}
          }
        </th>

        <th>
          @if (carVin) {
          {{ carVin.nivelCombustivel }}
          }
        </th>
        <th>
          @if (carVin) {
          {{ carVin.status }}
          }
        </th>
        <th>
          @if (carVin) {
          {{ carVin.lat }}
          }
        </th>
        <th>
          @if (carVin) {
          {{ carVin.long }}
          }
        </th>
        
      </tr>
    </tbody>
  </table>
</div>